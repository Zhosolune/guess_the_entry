# 猜词条游戏 - 互动文字猜测游戏

一个基于React + TypeScript开发的互动文字猜测游戏，玩家需要通过输入汉字来揭示被遮盖的词条和百科内容。

## 🎮 游戏介绍

这是一个富有挑战性的文字游戏，玩家需要：
- 🎯 通过输入单个汉字进行猜测
- 🔍 揭示被遮盖的词条和百科内容
- ⚡ 在尽可能少的尝试次数和时间内完成游戏
- 📚 涵盖多个知识领域：自然、天文、地理、动漫、影视、游戏、体育、历史、ACGN等

## ✨ 核心功能

### 🎯 游戏机制
- **遮盖系统**：词条和百科内容初始被完全遮盖（显示为"■"）
- **智能猜测**：输入汉字后自动揭示所有匹配位置
- **坟场系统**：错误猜测的字符会被记录到"坟场"区域
- **胜利条件**：完全揭示词条内容即可获胜

### 📊 数据记录
- **实时计时**：精确到秒的游戏耗时
- **尝试统计**：记录总猜测次数
- **游戏汇总**：结束时显示完整数据统计
- **最佳记录**：保存最快完成时间和最少尝试次数

### 🎲 词条生成
- **多领域支持**：涵盖自然、天文、地理、动漫、影视、游戏、体育、历史、ACGN等领域
- **随机选项**：提供随机领域选择
- **API集成**：通过Cloudflare Worker代理调用DeepSeek API
- **降级方案**：API不可用时使用本地预设词条

### 📱 移动端优化
- **响应式设计**：适配所有主流移动设备
- **触摸优化**：针对触摸操作优化的交互体验
- **字体适配**：确保文字大小在移动设备上清晰可读

### 🎨 视觉设计
- **现代界面**：清晰直观的游戏界面设计
- **状态区分**：不同状态的文字使用不同视觉样式
- **动画效果**：平滑的过渡动画增强用户体验
- **专业配色**：现代化的配色方案

## 🛠️ 技术栈

- **前端框架**：React 18 + TypeScript
- **构建工具**：Vite
- **样式方案**：Tailwind CSS
- **状态管理**：React Hooks + useState
- **路由管理**：React Router DOM
- **UI组件**：Lucide React (图标) + Sonner (通知)
- **HTTP客户端**：Axios
- **错误处理**：自定义错误处理系统
- **数据存储**：localStorage (游戏状态持久化)

## 🚀 快速开始

### 环境要求
- Node.js >= 18.0.0
- npm >= 9.0.0

### 安装依赖
```bash
npm install
```

### 开发环境
```bash
npm run dev
```

### 生产构建
```bash
npm run build
```

### 代码检查
```bash
npm run check
```

## 📁 项目结构

```
src/
├── components/          # React组件
│   ├── GameBoard/      # 游戏主面板
│   ├── GameStart/      # 游戏开始界面
│   ├── Graveyard/      # 坟场组件
│   └── VictoryModal/   # 胜利弹窗
├── hooks/              # 自定义React Hooks
│   ├── useGameState.ts # 游戏状态管理
│   ├── useKeyboard.ts  # 键盘输入处理
│   └── useTimer.ts     # 计时器功能
├── services/           # 服务层
│   ├── deepseek.ts    # DeepSeek API服务
│   └── storage.ts     # 本地存储服务
├── types/             # TypeScript类型定义
│   └── game.types.ts  # 游戏相关类型
├── utils/             # 工具函数
│   └── errorHandler.ts # 错误处理工具
└── App.tsx           # 主应用组件
```

## 🔧 配置说明

### 环境变量
创建 `.env` 文件并配置以下变量：

```env
# DeepSeek API配置（通过Cloudflare Worker代理）
VITE_API_BASE_URL=https://your-worker.your-subdomain.workers.dev
```

### API配置
项目使用Cloudflare Worker作为代理来调用DeepSeek API，需要在worker中实现以下端点：

- `POST /api/generate-entry` - 生成词条
- `GET /api/health` - 健康检查

## 🎯 游戏流程

1. **选择领域**：玩家选择知识领域或随机选项
2. **生成词条**：系统生成该领域的词条和百科内容
3. **开始游戏**：词条内容被完全遮盖，显示为"■"
4. **输入猜测**：玩家输入单个汉字进行猜测
5. **揭示内容**：如果词条或百科中包含该字，则揭示所有匹配位置
6. **记录错误**：如果不包含，将字符添加到坟场
7. **胜利检测**：当词条内容完全揭示时判定胜利
8. **数据统计**：显示游戏耗时、尝试次数等统计信息

## 🛡️ 错误处理

项目实现了完善的错误处理机制：

- **网络错误**：自动重试机制，失败后使用降级方案
- **API错误**：详细的错误分类和用户友好的提示
- **输入验证**：严格的输入格式和字符验证
- **存储错误**：localStorage异常处理
- **降级方案**：API不可用时使用本地预设词条

## 📱 部署说明

### Vercel部署
1. 连接GitHub仓库到Vercel
2. 配置环境变量
3. 自动部署设置

### 其他平台
支持任何静态文件托管服务，构建后的文件在 `dist/` 目录中。

## 🔍 开发指南

### 代码规范
- 使用TypeScript进行类型安全的开发
- 遵循React Hooks最佳实践
- 组件保持单一职责原则
- 使用函数式组件和自定义Hooks

### 性能优化
- 使用React.memo进行组件记忆化
- 使用useMemo和useCallback优化渲染
- 实现错误边界处理
- 优化移动端性能

### 测试建议
- 测试不同领域的词条生成
- 验证移动端适配性
- 测试网络异常情况
- 验证游戏状态持久化

## 📄 许可证

MIT License - 详见 [LICENSE](LICENSE) 文件

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进这个项目！

## 🎮 游戏截图

*游戏界面截图将在这里展示*

---

**享受游戏吧！🎯**